<template>
    <div class="page-wrapper">
        <MainSlider></MainSlider>

        <svg height="618pt" viewBox="-31 -19 618 618.66683" width="618pt" xmlns="http://www.w3.org/2000/svg" class="ico_bags">
            <path d="m248.058594 160h-20v-80c0-33.136719-26.867188-60-60-60-33.140625 0-60 26.863281-60 60v80h-20v-80c0-44.183594 35.816406-80 80-80 44.179687 0 80 35.816406 80 80zm0 0"/>
            <path d="m468.058594 340h-20v-60c0-16.566406-13.433594-30-30-30h-20c-16.574219 0-30 13.433594-30 30v60h-20v-60c.027344-27.601562 22.398437-49.964844 50-50h20c27.597656.035156 49.964844 22.398438 50 50zm0 0"/>
            <path d="m108.058594 240c0 5.523438-4.476563 10-10 10-5.523438 0-10-4.476562-10-10s4.476562-10 10-10c5.523437 0 10 4.476562 10 10zm0 0"/>
            <path d="m26.734375 169.265625-.675781 10.734375h62v-20h-51.304688c-5.253906-.023438-9.632812 4.027344-10.019531 9.265625zm0 0"/>
            <path d="m108.058594 160h120v20h-120zm0 0"/>
            <path d="m248.058594 240c0 5.523438-4.476563 10-10 10-5.523438 0-10-4.476562-10-10s4.476562-10 10-10c5.523437 0 10 4.476562 10 10zm0 0"/>
            <path d="m553.058594 576.648438c1.910156-2.117188 2.816406-4.953126 2.480468-7.785157l-21.78125-188.863281h-65.699218v11.839844c13.773437 4.867187 22.035156 18.957031 19.566406 33.355468-2.472656 14.402344-14.957031 24.925782-29.566406 24.925782-14.613282 0-27.101563-10.523438-29.570313-24.925782-2.472656-14.398437 5.789063-28.488281 19.570313-33.355468v-11.839844h-80v11.839844c13.773437 4.867187 22.035156 18.957031 19.566406 33.355468-2.472656 14.402344-14.957031 24.925782-29.566406 24.925782-14.613282 0-27.101563-10.523438-29.570313-24.925782-2.472656-14.398437 5.789063-28.488281 19.570313-33.355468v-11.839844h-65.703125l-21.796875 188.847656c-.332032 2.835938.566406 5.679688 2.464844 7.808594 1.898437 2.128906 4.621093 3.34375 7.472656 3.34375h275.121094c2.847656.007812 5.5625-1.210938 7.441406-3.351562zm0 0"/>
            <path d="m295.886719 320h23.769531l-8.179688-120h-63.417968v11.839844c13.773437 4.867187 22.035156 18.957031 19.566406 33.355468-2.472656 14.402344-14.957031 24.925782-29.566406 24.925782-14.613282 0-27.101563-10.523438-29.570313-24.925782-2.472656-14.398437 5.789063-28.488281 19.570313-33.355468v-11.839844h-120v11.839844c13.773437 4.867187 22.035156 18.957031 19.566406 33.355468-2.472656 14.402344-14.957031 24.925782-29.566406 24.925782-14.613282 0-27.097656-10.523438-29.570313-24.925782-2.46875-14.398437 5.792969-28.488281 19.570313-33.355468v-11.839844h-63.414063l-25.117187 369.28125c-.207032 2.789062.757812 5.539062 2.671875 7.578125 1.871093 2.015625 4.507812 3.160156 7.257812 3.140625h232.859375c-1.5625-4.300781-2.113281-8.902344-1.621094-13.453125l25.378907-220c1.753906-15.132813 14.578125-26.550781 29.8125-26.546875zm0 0"/>
            <path d="m368.058594 340h80v20h-80zm0 0"/>
            <path d="m468.058594 420c0 5.523438-4.476563 10-10 10-5.523438 0-10-4.476562-10-10s4.476562-10 10-10c5.523437 0 10 4.476562 10 10zm0 0"/>
            <path d="m248.058594 160v20h61.996094l-.726563-10.707031c-.375-5.246094-4.746094-9.308594-10-9.292969zm0 0"/>
            <path d="m468.058594 340v20h63.386718l-1.289062-11.152344c-.585938-5.039062-4.851562-8.847656-9.929688-8.847656zm0 0"/>
            <path d="m368.058594 420c0 5.523438-4.476563 10-10 10-5.523438 0-10-4.476562-10-10s4.476562-10 10-10c5.523437 0 10 4.476562 10 10zm0 0"/>
            <path d="m285.957031 348.847656-1.292969 11.152344h63.394532v-20h-52.171875c-5.074219 0-9.347657 3.808594-9.929688 8.847656zm0 0"/>
        </svg>

        <svg enable-background="new 0 0 512 512" height="512px" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" class="ico_glasses">
            <g>
                <path d="M389.172,261.184h-70.567c-21.833,0-29.938,18.88-30.056,31.505l-0.457,24.155c-0.115,12.231,3.15,23.823,9.442,33.521   c7.815,12.046,23.663,26.731,54.774,28.28c2.242,0.11,4.442,0.166,6.602,0.166c23.45,0,41.983-6.568,55.151-19.565   c10.054-9.921,15.819-24.104,15.819-38.91v-27.044C429.881,273.487,414.281,261.184,389.172,261.184z M331.808,333.477   c-1.728,0-3.455-0.659-4.772-1.978c-2.637-2.636-2.637-6.91,0-9.545l32.225-32.225c2.635-2.637,6.911-2.637,9.545,0   c2.637,2.635,2.637,6.909,0,9.545l-32.225,32.225C335.264,332.817,333.535,333.477,331.808,333.477z M396.439,306.661   l-45.022,45.021c-1.317,1.318-3.046,1.978-4.772,1.978s-3.455-0.659-4.772-1.978c-2.637-2.636-2.637-6.909,0-9.545l45.022-45.021   c2.634-2.637,6.91-2.637,9.545,0C399.075,299.751,399.075,304.025,396.439,306.661z"/>
                <path d="M451.903,265.646c-0.942-10.203-6.663-18.792-14.837-23.7l-91.258-116.941c-1.967-2.769-10.633-13.744-25.976-16.334   c-12.344-2.084-25.087,1.794-37.86,11.529c-5.338,4.066-6.368,11.69-2.302,17.028c4.067,5.337,11.69,6.367,17.027,2.3   c7.118-5.423,13.461-7.756,18.874-6.931c6.064,0.925,9.899,5.778,10.379,6.417c0.19,0.301,0.251,0.364,0.499,0.683l76.345,97.832   h-96.533c-3.454,0-6.885,0.87-9.918,2.514l-27.685,14.995c-1.069,0.579-2.276,0.884-3.49,0.884h-18.333   c-1.215,0-2.421-0.305-3.49-0.884l-27.682-14.994c-3.036-1.645-6.467-2.515-9.922-2.515h-97.237l76.344-97.832   c0.192-0.247,0.376-0.502,0.549-0.763c0.034-0.052,3.821-5.24,10.111-6.302c5.456-0.918,11.879,1.401,19.093,6.896   c5.337,4.068,12.961,3.037,17.028-2.3c4.065-5.338,3.036-12.961-2.302-17.028c-12.773-9.733-25.511-13.61-37.862-11.529   c-15.346,2.591-24.012,13.568-25.978,16.335l-93.253,119.5c-6.818,5.362-11.444,13.405-12.28,22.724   c-5.156,57.559,0.865,90.963,20.132,111.699c15.771,16.977,40.703,24.944,78.251,24.943c1.442,0,2.908-0.012,4.388-0.035   c73.019-1.159,84.446-52.028,85.972-73.846c0.266-3.815,3.475-6.804,7.305-6.804s7.039,2.988,7.305,6.804   c1.527,21.817,12.957,72.687,85.974,73.846c40.037,0.65,66.326-7.3,82.699-24.973C451.348,357.961,457.307,324.1,451.903,265.646z    M422.076,369.691c-13.579,14.657-36.638,21.214-72.582,20.649c-25.586-0.405-69.057-8.909-72.719-61.289   c-0.76-10.857-9.884-19.362-20.773-19.362s-20.014,8.505-20.773,19.362c-3.658,52.38-47.13,60.882-72.717,61.289   c-35.893,0.556-58.949-5.976-72.534-20.598c-16.181-17.414-21.292-48.658-16.575-101.307c0.889-9.924,9.096-17.407,19.09-17.407   h113.25c1.216,0,2.422,0.306,3.491,0.885l27.682,14.993c3.036,1.646,6.467,2.516,9.921,2.516h18.333   c3.452,0,6.883-0.869,9.919-2.515l27.687-14.995c1.067-0.578,2.273-0.884,3.487-0.884h114.826c9.069,0,16.538,6.818,17.373,15.859   C443.408,320.415,438.354,352.12,422.076,369.691z"/>
                <path d="M181.539,262.174h-69.224c-21.511,0-29.496,18.597-29.613,31.033l-0.446,23.695c-0.115,12.024,3.096,23.42,9.282,32.953   c7.684,11.843,23.26,26.28,53.833,27.801c2.202,0.109,4.365,0.163,6.487,0.163c23.036,0,41.245-6.456,54.187-19.231   c9.887-9.754,15.556-23.699,15.556-38.26v-26.527C221.601,274.293,206.25,262.174,181.539,262.174z M121.15,334.769   c-1.728,0-3.456-0.659-4.773-1.978c-2.637-2.636-2.637-6.91,0-9.545l32.625-32.624c2.634-2.637,6.91-2.637,9.545,0   c2.637,2.635,2.637,6.909,0,9.545l-32.625,32.624C124.605,334.109,122.877,334.769,121.15,334.769z M187.073,306.661   l-45.022,45.021c-1.316,1.318-3.045,1.978-4.772,1.978c-1.727,0-3.455-0.659-4.772-1.978c-2.637-2.636-2.637-6.909,0-9.545   l45.021-45.021c2.635-2.637,6.912-2.637,9.546,0C189.709,299.751,189.709,304.025,187.073,306.661z"/>
            </g>
        </svg>
<!--
        <svg style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" fill="red"><g><g><path d="M366,339c-5.52,0-10,4.48-10,10c0,5.52,4.48,10,10,10c5.52,0,10-4.48,10-10C376,343.48,371.52,339,366,339z"/></g></g><g><g><path d="M106,409c-5.52,0-10,4.48-10,10c0,5.52,4.48,10,10,10s10-4.48,10-10C116,413.48,111.52,409,106,409z"/></g></g><g><g><path d="M276,73c0-16.542-13.458-30-30-30s-30,13.458-30,30c0,7.678,2.902,14.688,7.663,20c-4.761,5.312-7.663,12.322-7.663,20    c0,16.542,13.458,30,30,30s30-13.458,30-30c0-7.678-2.902-14.688-7.663-20C273.098,87.688,276,80.678,276,73z M246,123    c-5.514,0-10-4.486-10-10s4.486-10,10-10c5.514,0,10,4.486,10,10S251.514,123,246,123z M246,83c-5.514,0-10-4.486-10-10    s4.486-10,10-10c5.514,0,10,4.486,10,10S251.514,83,246,83z"/></g></g><g><g><path d="M246,409H146c-5.523,0-10,4.478-10,10c0,5.522,4.477,10,10,10h100c5.522,0,10-4.478,10-10    C256,413.478,251.522,409,246,409z"/></g></g><g><g><path d="M476,290.72V213c0-16.542-13.458-30-30-30h-10v-50c0-16.542-13.458-30-30-30h-30V73c0-16.542-13.458-30-30-30h-30V30    c0-16.542-13.458-30-30-30H106C89.458,0,76,13.458,76,30v73H66c-27.57,0-50,22.43-50,50v309c0,27.57,22.43,50,50,50h380    c16.542,0,30-13.458,30-30v-74.72c11.639-4.128,20-15.243,20-28.28v-60C496,305.964,487.639,294.848,476,290.72z M376,123h30    c5.514,0,10,4.486,10,10v50h-40V123z M316,63h30c5.514,0,10,4.486,10,10v110h-40V63z M176,20h110c5.514,0,10,4.486,10,10v153H176    V20z M136,20h20v163h-20V20z M96,30c0-5.514,4.486-10,10-10h10v163H96V30z M66,123h10v60H66c-16.542,0-30-13.458-30-30    S49.458,123,66,123z M456,482c0,5.514-4.486,10-10,10H66c-16.542,0-30-13.458-30-30V192.973C44.363,199.265,54.753,203,66,203h20    h220h120h20c5.514,0,10,4.486,10,10v76h-20v-53c0-5.522-4.478-10-10-10H66c-5.523,0-10,4.478-10,10v226c0,5.522,4.477,10,10,10    h360c5.522,0,10-4.478,10-10v-53h20V482z M376,409h40v43H76V246h340v43h-40c-16.021,0-31.086,6.243-42.42,17.579    C322.243,317.914,316,332.979,316,349C316,382.084,342.916,409,376,409z M476,379c0,5.514-4.486,10-10,10h-90    c-22.056,0-40-17.944-40-40c0-10.678,4.163-20.721,11.722-28.279C355.279,313.163,365.322,309,376,309h90c5.514,0,10,4.486,10,10    V379z"/></g></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>
 -->
        <!--       <router-link v-bind:to="{name: 'catalog2'}">
            Перейти в каталог
        </router-link>-->
        <div v-for="category in allCategories">
            <h3>Название категории: {{category.name}}</h3>
            <SaleProducts
                v-bind:resultAll="allResult"
                v-bind:category="category.name"
            />
        </div>

    </div>
</template>

<script>
    import MainSlider from '@/components/MainSlider'
    import SaleProducts from  '@/components/SaleProducts'
/*    import {mapActions} from 'vuex'
    import {mapGetters} from 'vuex'*/

    export default {
        name: "Home",
        components: {
            MainSlider: MainSlider,
            SaleProducts: SaleProducts
        },
        data() {
            return {
                allResult: [],
                allCardCategories: []
            }
        },
        methods: {
            // ...mapActions(['fillCategoriesProducts'])
        },
        computed: {
            // ...mapGetters(['allCategoriesProducts']),
            allCategories() { //Получение категорий товаров из JSON
                this.allResult = this.$store.getters.allProducts;
                var arrJson = this.allResult,
                    categoryResult = [];
                arrJson.forEach(function (item) {
                    if (!categoryResult.includes(item.category)) {
                        categoryResult.push(item.category);
                    }
                });
                categoryResult = categoryResult.map(function (item) {
                    return {name: item, category: item};
                });
                return categoryResult;
            }
        }
    }
</script>

<style>
    .ico_bags {
        width: 150px;
        fill: #0EBB9F;
        position: absolute;
        left: 264px;
        top: -70px;
        z-index: -1;
        display: none;
    }
    .ico_glasses {
        width: 160px;
        fill: #0EBB9F;
        position: absolute;
        left: auto;
        right: 265px;
        top: -122px;
        z-index: -1;
        display: none;
    }
</style>